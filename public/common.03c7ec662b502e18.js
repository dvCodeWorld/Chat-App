"use strict";(self.webpackChunkChatApp=self.webpackChunkChatApp||[]).push([[592],{1790:(T,v,r)=>{r.d(v,{e:()=>h});var d=r(1135),c=r(7414),u=r(262),a=r(2223),p=r(7423),g=r(3144);let h=(()=>{class i{constructor(t,s){this._baseService=t,this._http=s,this.otpEmail=new d.X(""),this.baseUrl=this._baseService.baseUrl}signup(t){return this._http.post(this.baseUrl+"userSignup",t,{observe:"response"}).pipe((0,c.V)(75e3),(0,u.K)(s=>{throw s}))}login(t){return this._http.post(this.baseUrl+"userLogin",t,{observe:"response"}).pipe((0,c.V)(7500),(0,u.K)(s=>{throw s}))}otpVerify(t){return this._http.post(this.baseUrl+"verify-otp",t,{observe:"response"}).pipe((0,c.V)(75e3),(0,u.K)(s=>{throw s}))}updateProfile(t){return this._http.put(this.baseUrl+"profile",t).pipe((0,c.V)(75e3),(0,u.K)(s=>{throw s}))}verifyUserLogin(){return null!=localStorage.getItem("user_token")}logout(){localStorage.clear()}}return i.\u0275fac=function(t){return new(t||i)(a.LFG(p.b),a.LFG(g.eN))},i.\u0275prov=a.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},7423:(T,v,r)=>{r.d(v,{b:()=>u});var d=r(4766),c=r(2223);let u=(()=>{class a{constructor(){this.baseUrl=d.N.baseUrl}}return a.\u0275fac=function(g){return new(g||a)},a.\u0275prov=c.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},1050:(T,v,r)=>{r.d(v,{q:()=>h});var d=r(1135),c=r(7414),u=r(2223),a=r(1415),p=r(1790),g=r(2018);let h=(()=>{class i{constructor(t,s,m){this._router=t,this._authService=s,this._toastr=m,this.loggedIn=new d.X(!1)}handleError(t){let s;throw t.error instanceof ErrorEvent?s=t.error.message:(console.log(`Backend returned code ${t.status}, body was: ${t.error.message}`),s=t.error.message||t.message),t}routeAccordingToError(t){t instanceof c.W?this.errorToast("Oops!",t.message):0===t.status?this.errorToast("Oops!","Please check your internet connection or try again later"):403===t.status?(console.log(t.message),this._router.navigateByUrl("/access-denied")):(this.errorToast("Oops!",t.error.message||t.error),"Unauthorized"===t.error||401===t.status?setTimeout(()=>{this.redirectToLogin()},1e3):"page under construction"===t.error.message&&(console.log(t.error.message),this._router.navigate(["/page-under-construction"])))}redirectToLogin(){this._authService.logout()}errorToast(t,s){this._toastr.error(s,t,{closeButton:!0,positionClass:"toast-top-right",timeOut:2500})}}return i.\u0275fac=function(t){return new(t||i)(u.LFG(a.F0),u.LFG(p.e),u.LFG(g._W))},i.\u0275prov=u.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},4242:(T,v,r)=>{function d(n){this.message=n}r.d(v,{t:()=>m}),(d.prototype=new Error).name="InvalidCharacterError";var c=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(n){var l=String(n).replace(/=+$/,"");if(l.length%4==1)throw new d("'atob' failed: The string to be decoded is not correctly encoded.");for(var e,o,f=0,_=0,O="";o=l.charAt(_++);~o&&(e=f%4?64*e+o:o,f++%4)?O+=String.fromCharCode(255&e>>(-2*f&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return O};function a(n){this.message=n}(a.prototype=new Error).name="InvalidTokenError";var h=r(2223),i=r(6081),P=r(1050),t=r(2018),s=r(1415);let m=(()=>{class n{constructor(e,o,f,_){this.loader=e,this._errorHandler=o,this.toast=f,this._router=_}validateEmail(e){return new RegExp(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(e?.value)?null:{validateEmail:!0}}resetPage(){this.loader.stop(),this.scrollToTop()}loaderStart(){this.loader.start()}loaderStop(){this.loader.stop()}base64Encode(e){return window.btoa(e)}base64Decode(e){return window.atob(e)}routingAccordingToErrror(e){this._errorHandler.routeAccordingToError(e),this.resetPage()}toastSuccess(e,o){this.toast.success(o,e,{closeButton:!0,positionClass:"toast-top-right",timeOut:4e3})}toastInfo(e,o){this.toast.info(o,e,{closeButton:!0,positionClass:"toast-top-right",timeOut:4e3}),this.resetPage()}toastWarning(e,o){this.toast.warning(o,e,{closeButton:!0,positionClass:"toast-top-right",timeOut:4e3})}toastError(e,o){this.toast.error(o,e,{closeButton:!0,positionClass:"toast-top-right",timeOut:4e3})}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}decodeUser(e){return function p(n,l){if("string"!=typeof n)throw new a("Invalid token specified");var e=!0===(l=l||{}).header?0:1;try{return JSON.parse(function u(n){var l=n.replace(/-/g,"+").replace(/_/g,"/");switch(l.length%4){case 0:break;case 2:l+="==";break;case 3:l+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(c(l).replace(/(.)/g,function(o,f){var _=f.charCodeAt(0).toString(16).toUpperCase();return _.length<2&&(_="0"+_),"%"+_}))}catch{return c(l)}}(n.split(".")[e]))}catch(o){throw new a("Invalid token specified: "+o.message)}}(e)}deleteNullKeysInObject(e){return Object.keys(e).map(function(o){(""===e[o]||null===e[o]||0==e[o]?.length)&&delete e[o]}),e}addQueryParamsToUrl(e){this._router.navigate([],{queryParams:e,queryParamsHandling:"merge"})}}return n.\u0275fac=function(e){return new(e||n)(h.LFG(i.LA),h.LFG(P.q),h.LFG(t._W),h.LFG(s.F0))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()},7414:(T,v,r)=>{r.d(v,{V:()=>P,W:()=>i});var d=r(4986),c=r(1165),u=r(4482),a=r(8421),p=r(3888),g=r(5403),h=r(9672);const i=(0,p.d)(s=>function(n=null){s(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=n});function P(s,m){const{first:n,each:l,with:e=t,scheduler:o=m??d.z,meta:f=null}=(0,c.q)(s)?{first:s}:"number"==typeof s?{each:s}:s;if(null==n&&null==l)throw new TypeError("No timeout provided.");return(0,u.e)((_,O)=>{let C,E,D=null,M=0;const I=U=>{E=(0,h.f)(O,o,()=>{try{C.unsubscribe(),(0,a.Xf)(e({meta:f,lastValue:D,seen:M})).subscribe(O)}catch(y){O.error(y)}},U)};C=_.subscribe((0,g.x)(O,U=>{E?.unsubscribe(),M++,O.next(D=U),l>0&&I(l)},void 0,void 0,()=>{E?.closed||E?.unsubscribe(),D=null})),!M&&I(null!=n?"number"==typeof n?n:+n-o.now():l)})}function t(s){throw new i(s)}}}]);